<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CAFE ‚Äî CACAO | C√† ph√™ ngon, giao nhanh</title>
  <meta name="description" content="C√† ph√™ pha phin, ƒë·ªì u·ªëng & ƒë·ªì ƒÉn nh·∫π. ƒê·∫∑t m√≥n giao t·∫≠n n∆°i, thanh to√°n nhanh.">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 rx=%2218%22 fill=%22000%22/><text x=%2250%22 y=%2262%22 font-size=%2260%22 text-anchor=%22middle%22 fill=%22%23fff%22 font-family=%22Inter,Arial%22>C</text></svg>">

  <!-- Social -->
  <meta property="og:title" content="CAFE ‚Äî CACAO | C√† ph√™ ngon, giao nhanh">
  <meta property="og:description" content="C√† ph√™ pha phin, ƒë·ªì u·ªëng & ƒë·ªì ƒÉn nh·∫π. ƒê·∫∑t m√≥n giao t·∫≠n n∆°i.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://images.unsplash.com/photo-1513475382585-d06e58bcb0ea?q=80&w=1600&auto=format&fit=crop">
  <meta name="twitter:card" content="summary_large_image">

  <!-- JSON-LD -->
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"CafeOrCoffeeShop","name":"CAFE ‚Äî CACAO","servesCuisine":["Vietnamese","Coffee","Beverages","Snacks"],"priceRange":"‚Ç´","telephone":"+84-982-319-886","address":{"@type":"PostalAddress","addressLocality":"H√† N·ªôi","addressCountry":"VN"},"url":"./","sameAs":["https://www.facebook.com/profile.php?id=100063544271103"]}
  </script>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <style>
    /* ===== Caf√© palette (every section gets color) ===== */
    :root{
      --ink:#0b0b0b;
      --text:#222;
      --muted:#6b7280;

      --amber:#FFB86B;    /* coffee crema */
      --cacao:#8C5C4A;    /* cacao beans */
      --rose:#FF8FAB;     /* fruits/pastries */
      --mint:#34D399;     /* fresh/mint */
      --sky:#60A5FA;      /* iced drinks */
      --violet:#A78BFA;   /* accent */
      --sun:#FFE8A3;      /* warm wash */
      --foam:#FDF7EE;     /* light foam */

      --ring:rgba(0,0,0,.12);
      --glass:rgba(255,255,255,.28);
    }
    .ring-1{ --tw-ring-color: var(--ring) !important; }
    .glass{ backdrop-filter:saturate(130%) blur(10px); background:var(--glass); }

    .card{transition:transform .18s ease, box-shadow .18s ease}
    .card:hover{transform:translateY(-3px); box-shadow:0 16px 36px rgba(0,0,0,.12)}
    .shadow-soft{box-shadow:0 1px 0 rgba(20,20,20,.04), 0 12px 38px rgba(0,0,0,.10)}
    .fade-in{animation:fade .45s ease both}
    @keyframes fade{from{opacity:0; transform:translateY(8px)}to{opacity:1; transform:none}}
  </style>
</head>

<body class="text-[var(--text)] overflow-x-hidden"
      style="background:
        radial-gradient(1200px 500px at -10% -20%, #FFE8A3 0, #FFE8A3 25%, transparent 60%),
        radial-gradient(900px 450px at 110% 0%, #FF8FAB55 0, transparent 60%),
        linear-gradient(180deg, #FFF 0, #FDF7EE 100%)"
      translate="no">

  <!-- NAV (colored chip) -->
  <header class="sticky top-0 z-50 border-b"
           style="background:linear-gradient(90deg,#fff8,#fff8), linear-gradient(90deg,#FFE8A3 0,#FFB86B 22%,#FF8FAB 48%,#60A5FA 76%,#A78BFA 100%)">
    <div class="max-w-screen-xl mx-auto px-4 h-14 flex items-center justify-between">
      <a href="./" class="flex items-center gap-2">
        <div class="h-8 w-8 rounded-xl bg-[var(--ink)] text-white grid place-items-center font-bold">C</div>
        <div>
          <div class="font-semibold tracking-wide">CAFE ‚Äî CACAO</div>
          <div id="sub_small" class="text-xs text-[var(--muted)]">ƒê·∫∑t m√≥n giao t·∫≠n n∆°i</div>
        </div>
      </a>
      <nav class="hidden md:flex items-center gap-6 text-sm">
        <a class="hover:opacity-90" href="#about">Gi·ªõi thi·ªáu</a>
        <a class="hover:opacity-90" href="#menu">Menu</a>
        <a class="hover:opacity-90" href="#visit">ƒê·ªãa ch·ªâ</a>
      </nav>
      <div class="flex items-center gap-2">
        <a href="order.html" class="hidden sm:inline-flex bg-[var(--ink)] text-white px-3 py-1.5 rounded-lg text-sm">ƒê·∫∑t h√†ng / Order</a>
        <div class="rounded-xl px-1 py-1 glass ring-1">
          <button id="btnVI" class="px-2 py-1 rounded-lg text-sm font-medium">VI</button>
          <button id="btnEN" class="px-2 py-1 rounded-lg text-sm font-medium">EN</button>
        </div>
      </div>
    </div>
  </header>

  <!-- HERO (bold gradient) -->
  <section class="pt-10 pb-8"
           style="background:
             radial-gradient(900px 360px at 20% 10%, #FFE8A3 0, transparent 70%),
             radial-gradient(1000px 420px at 90% 0%, #60A5FA33 0, transparent 65%)">
    <div class="max-w-screen-xl mx-auto px-4 grid lg:grid-cols-2 gap-8 items-center">
      <div>
        <span class="inline-flex items-center gap-2 px-3 py-1 rounded-full glass ring-1 text-sm">
          <span class="text-[var(--cacao)]">‚òÖ</span> Great taste ‚Äî Fast delivery
        </span>
        <h1 id="hero_title" class="mt-4 text-4xl sm:text-5xl font-extrabold leading-tight text-[var(--ink)]">
          CAFE ‚Äî CACAO<br><span id="hero_title_sub" class="font-medium"
          style="color:#2f2f2f">C√† ph√™ ngon, giao nhanh</span>
        </h1>
        <p id="hero_sub" class="mt-3 text-lg text-[var(--ink)]/80">
          Ch·ªçn m√≥n n√≥ng h·ªïi, giao t·∫≠n n∆°i. ƒê·∫∑t h√†ng tr·ª±c tuy·∫øn d·ªÖ d√†ng.
        </p>
        <div class="mt-6 flex flex-wrap gap-3">
          <a href="order.html" class="px-5 py-3 rounded-xl font-medium text-white"
             style="background:linear-gradient(135deg,#0b0b0b 0,#3b3b3b 100%)">ƒê·∫∑t h√†ng ngay</a>
          <a href="#menu" class="px-5 py-3 rounded-xl font-medium glass ring-1">Xem menu</a>
        </div>

        <div class="mt-6 flex flex-wrap gap-2 text-sm">
          <span class="px-3 py-1.5 rounded-full ring-1" style="background:#FFB86B40">Phin</span>
          <span class="px-3 py-1.5 rounded-full ring-1" style="background:#60A5FA40">Smoothies</span>
          <span class="px-3 py-1.5 rounded-full ring-1" style="background:#FF8FAB40">B√°nh m√¨</span>
          <span class="px-3 py-1.5 rounded-full ring-1" style="background:#34D39940">X√¥i</span>
        </div>
      </div>

      <div class="rounded-3xl glass ring-1 shadow-soft p-4">
        <img class="rounded-2xl w-full object-cover h-72"
             src="91558.jpg"
             alt="Coffee and pastries" />
        <div class="text-xs text-[var(--muted)] text-center mt-2">·∫¢nh minh h·ªça</div>
      </div>
    </div>

    <!-- Quick contacts (colored) -->
    <div class="max-w-screen-xl mx-auto px-4 mt-6 grid md:grid-cols-3 gap-3">
      <a href="https://zalo.me/0982319886" target="_blank"
         class="rounded-2xl p-4 ring-1 card"
         style="background:linear-gradient(135deg,#FFE8A3 0,#FFB86B 100%);">
        <div class="flex items-center justify-between">
          <div><div class="text-sm opacity-80">Zalo</div><div class="font-semibold">0982319886</div></div><span>‚Üí</span>
        </div>
      </a>
      <a href="tel:0982319886"
         class="rounded-2xl p-4 ring-1 card"
         style="background:linear-gradient(135deg,#D1FAE5 0,#34D399 100%);">
        <div class="flex items-center justify-between">
          <div><div class="text-sm opacity-80">Hotline</div><div class="font-semibold">G·ªçi / Call</div></div><span>‚Üí</span>
        </div>
      </a>
      <a href="https://www.facebook.com/profile.php?id=100063544271103" target="_blank"
         class="rounded-2xl p-4 ring-1 card"
         style="background:linear-gradient(135deg,#DBEAFE 0,#60A5FA 100%);">
        <div class="flex items-center justify-between">
          <div><div class="text-sm opacity-80">Facebook</div><div class="font-semibold">Theo d√µi ∆∞u ƒë√£i</div></div><span>‚Üí</span>
        </div>
      </a>
    </div>
  </section>

  <!-- CATEGORIES (two strong color tiles) -->
  <section id="menu" class="py-10"
           style="background:
             radial-gradient(700px 300px at 10% 20%, #FF8FAB33 0, transparent 70%),
             radial-gradient(700px 300px at 90% 80%, #60A5FA33 0, transparent 70%)">
    <div class="max-w-screen-xl mx-auto px-4">
      <div class="flex items-center justify-between">
        <h2 id="sec_menu" class="text-2xl font-bold">Categories</h2>
        <a href="order.html" class="text-sm underline">T·∫•t c·∫£ m√≥n</a>
      </div>

      <div class="mt-4 grid sm:grid-cols-2 gap-4">
        <a href="order.html?category=Food" class="card rounded-2xl p-5 ring-1 text-[var(--ink)]"
           style="background:linear-gradient(135deg,#FFE4EA 0,#FF8FAB 100%);">
          <div class="flex items-center gap-4">
            <div class="h-12 w-12 rounded-xl grid place-items-center bg-white/30">üç±</div>
            <div>
              <div class="text-lg font-semibold">ƒê·ªì ƒÉn / Food</div>
              <div class="opacity-80 text-sm">B√°nh m√¨, M√¨, X√¥i, ƒÇn v·∫∑t, M√≥n k√®m</div>
            </div>
          </div>
        </a>

        <a href="order.html?category=Drinks" class="card rounded-2xl p-5 ring-1 text-[var(--ink)]"
           style="background:linear-gradient(135deg,#E1F0FF 0,#60A5FA 100%);">
          <div class="flex items-center gap-4">
            <div class="h-12 w-12 rounded-xl grid place-items-center bg-white/30">ü•§</div>
            <div>
              <div class="text-lg font-semibold">ƒê·ªì u·ªëng / Drinks</div>
              <div class="opacity-80 text-sm">C√† ph√™, Smoothies, N∆∞·ªõc √©p‚Ä¶</div>
            </div>
          </div>
        </a>
      </div>
    </div>
  </section>

  <!-- HIGHLIGHTS (colorful stripes + glass cards) -->
  <section class="py-10"
           style="background:
             linear-gradient(180deg,#fff0 0,#fff0 42%,rgba(0,0,0,.03) 42%,rgba(0,0,0,.03) 44%,#fff0 44%,#fff0 100%),
             linear-gradient(90deg,#FFE8A3 0,#FFB86B 20%,#FF8FAB 40%,#60A5FA 65%,#A78BFA 85%,#D1FAE5 100%)">
    <div class="max-w-screen-xl mx-auto px-4">
      <div class="flex items-center justify-between">
        <h3 id="sec_high" class="text-xl font-semibold">M√≥n n·ªïi b·∫≠t</h3>
        <a href="order.html" class="text-sm underline">View all</a>
      </div>

      <div id="highlights_skeleton" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-4">
        <div class="rounded-2xl glass ring-1 p-4 animate-pulse">
          <div class="w-full h-32 bg-white/50 rounded-xl"></div>
          <div class="h-4 bg-white/50 rounded mt-3 w-3/5"></div>
          <div class="h-3 bg-white/50 rounded mt-2 w-2/5"></div>
        </div>
        <div class="rounded-2xl glass ring-1 p-4 animate-pulse">
          <div class="w-full h-32 bg-white/50 rounded-xl"></div>
          <div class="h-4 bg-white/50 rounded mt-3 w-3/5"></div>
          <div class="h-3 bg-white/50 rounded mt-2 w-2/5"></div>
        </div>
        <div class="rounded-2xl glass ring-1 p-4 animate-pulse">
          <div class="w-full h-32 bg-white/50 rounded-xl"></div>
          <div class="h-4 bg-white/50 rounded mt-3 w-3/5"></div>
          <div class="h-3 bg-white/50 rounded mt-2 w-2/5"></div>
        </div>
      </div>

      <div id="highlights" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-4 hidden"></div>
      <div id="highlights_error" class="hidden mt-3 text-sm text-red-600"></div>
    </div>
  </section>

  <!-- ABOUT / HOURS (two bold blocks) -->
  <section id="about" class="py-12"
           style="background:
             radial-gradient(700px 320px at 10% 90%, #34D39933 0, transparent 70%),
             radial-gradient(700px 320px at 95% 15%, #A78BFA33 0, transparent 70%)">
    <div class="max-w-screen-xl mx-auto px-4 grid lg:grid-cols-2 gap-6">
      <div class="rounded-2xl p-6 ring-1 text-[var(--ink)] card"
           style="background:linear-gradient(135deg,#FFF1D6 0,#FFB86B 100%);">
        <h3 class="text-xl font-semibold mb-2">V·ªÅ ch√∫ng t√¥i / About us</h3>
        <p class="leading-relaxed">
          CAFE ‚Äî CACAO ph·ª•c v·ª• c√† ph√™ pha phin, ƒë·ªì u·ªëng chai s·∫µn v√† nhi·ªÅu m√≥n ƒÉn nh·∫π.
          Ch√∫ng t√¥i cam k·∫øt nguy√™n li·ªáu ch·∫•t l∆∞·ª£ng v√† giao h√†ng nhanh ch√≥ng.
        </p>
        <p class="mt-3">Theo d√µi Facebook v√† Zalo ƒë·ªÉ nh·∫≠n khuy·∫øn m√£i m·ªõi nh·∫•t!</p>
      </div>

      <div class="rounded-2xl p-6 ring-1 text-[var(--ink)] card"
           style="background:linear-gradient(135deg,#E6FFE8 0,#34D399 100%);">
        <h3 class="text-xl font-semibold mb-2">Gi·ªù m·ªü c·ª≠a / Opening hours</h3>
        <ul class="space-y-1">
          <li>Mon ‚Äì Fri: 7:00 ‚Äì 21:00</li>
          <li>Sat ‚Äì Sun: 8:00 ‚Äì 21:00</li>
          <li>Hotline: <a class="underline" href="tel:0982319886">0982319886</a></li>
        </ul>
      </div>
    </div>
  </section>

  <!-- VISIT (cool blue block) -->
  <section id="visit" class="py-12"
           style="background:linear-gradient(135deg,#DBEAFE 0,#60A5FA 100%)">
    <div class="max-w-screen-xl mx-auto px-4">
      <h3 class="text-xl font-semibold mb-3 text-[var(--ink)]">ƒê·ªãa ch·ªâ / Visit us</h3>
      <div class="rounded-2xl overflow-hidden ring-1 glass">
        <iframe class="w-full h-72"
          src="https://www.google.com/maps?q=Hanoi&output=embed"
          loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>
    </div>
  </section>

  <footer class="border-t"
          style="background:linear-gradient(90deg,#FFE8A3 0,#FFB86B 22%,#FF8FAB 48%,#60A5FA 76%,#A78BFA 100%)">
    <div class="max-w-screen-xl mx-auto px-4 py-6 text-sm text-[var(--ink)]/80 flex flex-col sm:flex-row gap-2 sm:items-center sm:justify-between">
      <div>¬© <span id="year"></span> CAFE ‚Äî CACAO</div>
      <div class="flex gap-3">
        <a class="underline" href="order.html">ƒê·∫∑t h√†ng / Order</a>
      </div>
    </div>
  </footer>

  <!-- Floating contact -->
  <div class="fixed bottom-4 right-4 z-50 flex flex-col gap-2">
    <a href="https://zalo.me/0982319886" target="_blank" class="shadow-lg rounded-full glass ring-1 w-12 h-12 grid place-items-center" title="Zalo">ZA</a>
    <a href="tel:0982319886" class="shadow-lg rounded-full glass ring-1 w-12 h-12 grid place-items-center" title="Call" aria-label="Call">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M4 5c0 8 7 15 15 15l2-3-4-3-3 2a12 12 0 0 1-7-7l2-3-3-4-2 3Z" stroke="currentColor" stroke-width="1.7"/></svg>
    </a>
    <a href="https://www.facebook.com/profile.php?id=100063544271103" target="_blank" class="shadow-lg rounded-full bg-[#1877F2] text-white w-12 h-12 grid place-items-center" title="Facebook">f</a>
  </div>

<script>
/* ================== CONFIG ================== */
const SUPABASE_URL  = 'https://peenohpyubshzxgzzkhx.supabase.co';
const SUPABASE_ANON = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBlZW5vaHB5dWJzaHp4Z3p6a2h4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg5OTczOTYsImV4cCI6MjA3NDU3MzM5Nn0.5PJYRCGyhM-E16yJrU5W_kBeDQgaJiine4j_cS9gKoU';
const sb = supabase.createClient(SUPABASE_URL, SUPABASE_ANON);

/* ================== i18n ================== */
const STR = {
  vi:{sub_small:"ƒê·∫∑t m√≥n giao t·∫≠n n∆°i",hero_title:"CAFE ‚Äî CACAO",hero_title_sub:"C√† ph√™ ngon, giao nhanh",hero_sub:"Ch·ªçn m√≥n n√≥ng h·ªïi, giao t·∫≠n n∆°i. ƒê·∫∑t h√†ng tr·ª±c tuy·∫øn d·ªÖ d√†ng.",menu:"Danh m·ª•c",highlights:"M√≥n n·ªïi b·∫≠t"},
  en:{sub_small:"Order home delivery",hero_title:"CAFE ‚Äî CACAO",hero_title_sub:"Great coffee, fast delivery",hero_sub:"Hot & fresh delivery. Order online in seconds.",menu:"Categories",highlights:"Highlights"}
};
let lang = localStorage.getItem('lang') || 'vi';
function syncLang(){
  document.getElementById('sub_small').textContent = STR[lang].sub_small;
  document.getElementById('hero_title').firstChild.textContent = STR[lang].hero_title + "\n";
  document.getElementById('hero_title_sub').textContent = STR[lang].hero_title_sub;
  document.getElementById('hero_sub').textContent = STR[lang].hero_sub;
  document.getElementById('sec_menu').textContent = STR[lang].menu;
  document.getElementById('sec_high').textContent = STR[lang].highlights;
}
document.getElementById('btnVI').onclick = ()=>{ lang='vi'; localStorage.setItem('lang','vi'); syncLang(); };
document.getElementById('btnEN').onclick = ()=>{ lang='en'; localStorage.setItem('lang','en'); syncLang(); };
syncLang();

/* ================== Highlights (unchanged backend) ================== */

async function loadHighlights(){
  const skel = document.getElementById('highlights_skeleton');
  const list = document.getElementById('highlights');
  const err  = document.getElementById('highlights_error');
  skel.classList.remove('hidden'); list.classList.add('hidden'); err.classList.add('hidden'); err.textContent='';

  // Helper: normalize old/new schemas
  const norm = (p)=>({
    id: p.id,
    slug: p.slug,
    category: p.category || p.section || '',
    subcategory: p.subcategory || p.subgroup || '',
    name_vi: p.name_vi || p.name || '',
    name_en: p.name_en || '',
    price_vnd: (p.price_vnd != null) ? p.price_vnd : (p.price != null ? p.price : 0),
    image_url: p.image_url || '',
    is_available: ('is_available' in p) ? p.is_available : (('is_active' in p) ? p.is_active : true),
    sort_order: ('sort_order' in p) ? p.sort_order : 100
  });

  // 1) Try: featured = true (if column exists + you set some)
  let data = null, error = null;

  try {
    const res = await sb
      .from('products')
      .select('*')
      .eq('is_available', true)
      .eq('featured', true)
      .order('sort_order', { ascending: true })
      .limit(6);
    data = res.data; error = res.error;
  } catch (e) {
    // ignore‚Äîlikely "column featured does not exist"
  }

  // 2) Fallback: top by sort_order if featured missing/empty
  if (error || !data?.length){
    const res2 = await sb
      .from('products')
      .select('*')
      .eq('is_available', true)
      .order('sort_order', { ascending: true })
      .limit(6);
    data = res2.data; error = res2.error;
  }

  if (error){
    skel.classList.add('hidden');
    err.textContent = (lang==='vi')
      ? 'Kh√¥ng t·∫£i ƒë∆∞·ª£c d·ªØ li·ªáu. Vui l√≤ng th·ª≠ l·∫°i sau.'
      : 'Failed to load data. Please try again later.';
    err.classList.remove('hidden');
    return;
  }

  const rows = (data||[]).map(norm);
  const moneyK = v => (Math.round((v||0)/1000)+'k');
  list.innerHTML = '';

  rows.forEach(p=>{
    const href  = new URL('order.html', location.href);
    if (p.category)    href.searchParams.set('category', p.category);
    if (p.subcategory) href.searchParams.set('subcategory', p.subcategory);

    const title = (lang==='vi' ? (p.name_vi || p.name_en) : (p.name_en || p.name_vi)) || '';
    const card = document.createElement('a');
    card.href = href.toString();
    card.className = 'card rounded-2xl bg-white/90 backdrop-blur border shadow-soft overflow-hidden fade-in';
    card.innerHTML = `
      ${p.image_url
        ? `<img src="${p.image_url}" class="w-full h-40 object-cover" alt="">`
        : `<div class="w-full h-40 bg-neutral-100 grid place-items-center text-neutral-400">${(p.category||'').slice(0,2)}</div>`}
      <div class="p-4">
        <div class="font-semibold line-clamp-2">${title}</div>
        <div class="text-xs text-neutral-500 mt-0.5">${p.category||''}${p.subcategory?(' ‚Ä¢ '+p.subcategory):''}</div>
        <div class="mt-2 font-semibold">${moneyK(p.price_vnd)}</div>
      </div>`;
    list.appendChild(card);
  });

  skel.classList.add('hidden');
  list.classList.remove('hidden');
}



document.getElementById('year').textContent = new Date().getFullYear();
loadHighlights();
</script>
</body>
</html>
